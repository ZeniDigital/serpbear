(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{2661:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/domain/[slug]",function(){return s(1600)}])},2657:function(e,t,s){"use strict";var n=s(5893),r=(s(7294),s(9175)),o=s(5376);r.kL.register(r.uw,r.f$,r.od,r.jn,r.Dx,r.u,r.De);t.Z=function(e){var t=e.labels,s=e.sreies,r=e.reverse,i=void 0===r||r,a=e.noMaxLimit,l={responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{y:{reverse:i,min:1,max:!(void 0!==a&&a)&&i?100:void 0}},plugins:{legend:{display:!1}}};return(0,n.jsx)(o.x1,{datasetIdKey:"XXX",options:l,data:{labels:t,datasets:[{fill:"start",data:s,borderColor:"rgb(31, 205, 176)",backgroundColor:"rgba(31, 205, 176, 0.5)"}]}})}},8304:function(e,t,s){"use strict";var n=s(5893),r=(s(7294),s(9175)),o=s(5376);r.kL.register(r.uw,r.f$,r.od,r.jn,r.Gu,r.Dx,r.u,r.De);t.Z=function(e){var t=e.labels,s=e.sreies,r=e.noMaxLimit,i={responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{y:{display:!1,reverse:!0,min:1,max:void 0!==r&&r?void 0:100},x:{display:!1}},plugins:{tooltip:{enabled:!1},legend:{display:!1}}};return(0,n.jsx)("div",{className:"w-[80px] h-[30px] rounded border border-gray-200",children:(0,n.jsx)(o.x1,{datasetIdKey:"XXX",options:i,data:{labels:t,datasets:[{fill:"start",showLine:!1,data:s,pointRadius:0,borderColor:"rgb(31, 205, 176)",backgroundColor:"rgba(31, 205, 176, 0.5)"}]}})})}},2381:function(e,t,s){"use strict";var n=s(6042),r=s(9396),o=s(5893),i=s(7294),a=s(1015),l=s(5924),c=s(5158);t.Z=function(e){var t=e.device,s=e.setDevice,d=e.filterKeywords,u=e.allTags,x=void 0===u?[]:u,m=e.keywords,p=void 0===m?[]:m,g=e.updateSort,h=e.sortBy,f=e.filterParams,v=e.isConsole,b=void 0!==v&&v,y=e.integratedConsole,w=void 0!==y&&y,j=e.SCcountries,k=void 0===j?[]:j,N=(0,i.useState)(!1),_=N[0],Z=N[1],D=(0,i.useState)(!1),C=D[0],S=D[1],T=(0,i.useMemo)((function(){var e={desktop:0,mobile:0};return p&&p.length>0&&p.forEach((function(t){"desktop"===t.device?e.desktop+=1:e.mobile+=1})),e}),[p]),M=(0,i.useMemo)((function(){var e=[];return Object.keys(c.ZP).forEach((function(t){(!b||b&&k.includes(t))&&e.push({label:c.ZP[t][0],value:t})})),e}),[k,b]),K=[{value:"pos_asc",label:"Top Position"},{value:"pos_desc",label:"Lowest Position"},{value:"date_asc",label:"Most Recent (Default)"},{value:"date_desc",label:"Oldest"},{value:"alpha_asc",label:"Alphabetically(A-Z)"},{value:"alpha_desc",label:"Alphabetically(Z-A)"},{value:"vol_asc",label:"Lowest Search Volume"},{value:"vol_desc",label:"Highest Search Volume"}];w&&(K.push({value:"imp_desc",label:"Most Viewed".concat(b?" (Default)":"")}),K.push({value:"imp_asc",label:"Least Viewed"}),K.push({value:"visits_desc",label:"Most Visited"}),K.push({value:"visits_asc",label:"Least Visited"})),b&&(K.splice(2,2),K.push({value:"ctr_asc",label:"Highest CTR"}),K.push({value:"ctr_desc",label:"Lowest CTR"}));var z="select-none cursor-pointer px-3 py-2 rounded-3xl mr-2",E="px-2 py-0 rounded-3xl bg-[#DEE1FC] text-[0.7rem] font-bold ml-1";return(0,o.jsxs)("div",{className:"domKeywords_filters py-4 px-6 flex justify-between text-sm text-gray-500 font-semibold border-b-[1px] lg:border-0",children:[(0,o.jsx)("div",{children:(0,o.jsxs)("ul",{className:"flex text-xs",children:[(0,o.jsxs)("li",{"data-testid":"desktop_tab",className:"".concat(z," ").concat("desktop"===t?" bg-[#F8F9FF] text-gray-700":""),onClick:function(){return s("desktop")},children:[(0,o.jsx)(a.Z,{type:"desktop",classes:"top-[3px]",size:15}),(0,o.jsx)("i",{className:"hidden not-italic lg:inline-block ml-1",children:"Desktop"}),(0,o.jsx)("span",{className:"".concat(E),children:T.desktop})]}),(0,o.jsxs)("li",{"data-testid":"mobile_tab",className:"".concat(z," ").concat("mobile"===t?" bg-[#F8F9FF] text-gray-700":""),onClick:function(){return s("mobile")},children:[(0,o.jsx)(a.Z,{type:"mobile"}),(0,o.jsx)("i",{className:"hidden not-italic lg:inline-block ml-1",children:"Mobile"}),(0,o.jsx)("span",{className:"".concat(E),children:T.mobile})]})]})}),(0,o.jsxs)("div",{className:"flex gap-5",children:[(0,o.jsx)("div",{className:" lg:hidden",children:(0,o.jsx)("button",{"data-testid":"filter_button",className:"px-2 py-1 rounded ".concat(C?" bg-indigo-100 text-blue-700":""),title:"Filter",onClick:function(){return S(!C)},children:(0,o.jsx)(a.Z,{type:"filter",size:18})})}),(0,o.jsxs)("div",{className:"lg:flex gap-5 lg:visible ".concat(C?"visible mt-8 border absolute min-w-[0] rounded-lg max-h-96 bg-white z-50 w-52 right-2 p-4":"hidden"),children:[(0,o.jsx)("div",{className:"country_filter mb-2 lg:mb-0",children:(0,o.jsx)(l.Z,{selected:f.countries,options:M,defaultLabel:"All Countries",updateField:function(e){return t=e,d((0,r.Z)((0,n.Z)({},f),{countries:t}));var t},flags:!0})}),!b&&(0,o.jsx)("div",{className:"tags_filter mb-2 lg:mb-0",children:(0,o.jsx)(l.Z,{selected:f.tags,options:x.map((function(e){return{label:e,value:e}})),defaultLabel:"All Tags",updateField:function(e){return t=e,d((0,r.Z)((0,n.Z)({},f),{tags:t}));var t},emptyMsg:"No Tags Found for this Domain"})}),(0,o.jsx)("div",{className:"mb-2 lg:mb-0",children:(0,o.jsx)("input",{"data-testid":"filter_input",className:"border w-44 lg:w-36 focus:w-44 transition-all rounded-3xl p-1.5 px-4 outline-none ring-0 focus:border-indigo-200",type:"text",placeholder:"Filter Keywords...",onChange:function(e){return d((0,r.Z)((0,n.Z)({},f),{search:e.currentTarget.value}))},value:f.search})})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("button",{"data-testid":"sort_button",className:"px-2 py-1 rounded ".concat(_?" bg-indigo-100 text-blue-700":""),title:"Sort",onClick:function(){return Z(!_)},children:(0,o.jsx)(a.Z,{type:"sort",size:18})}),_&&(0,o.jsx)("ul",{"data-testid":"sort_options",className:"sort_options mt-2 border absolute w-48 min-w-[0] right-0 rounded-lg max-h-96 bg-white z-[9999] overflow-y-auto styled-scrollbar",children:K.map((function(e){return(0,o.jsx)("li",{className:(t=e.value,"cursor-pointer py-2 px-3 hover:bg-[#FCFCFF] ".concat(h===t?"bg-indigo-50 text-indigo-600 hover:bg-indigo-50":"")),onClick:function(){g(e.value),Z(!1)},children:e.label},e.value);var t}))})]})]})]})}},1399:function(e,t,s){"use strict";var n=s(5893),r=s(1015);t.Z=function(e){var t=e.position,s=void 0===t?0:t,o=e.type,i=void 0===o?"":o,a=e.updating,l=void 0!==a&&a;return l||0!==s?l&&"sc"!==i?(0,n.jsx)("span",{title:"Updating Keyword Position",children:(0,n.jsx)(r.Z,{type:"loading"})}):(0,n.jsx)(n.Fragment,{children:Math.round(s)}):(0,n.jsx)("span",{className:"text-gray-400",title:"Not in Top 100",children:">100"})}},4523:function(e,t,s){"use strict";var n=s(7294);t.Z=function(){var e=(0,n.useState)(!1),t=e[0],s=e[1];return(0,n.useEffect)((function(){s(!!window.matchMedia("only screen and (max-width: 760px)").matches)}),[]),[t]}},5002:function(e,t,s){"use strict";var n=s(7294);t.Z=function(e){(0,n.useEffect)((function(){return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[e])}},1600:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var n=s(5893),r=s(7294),o=s(9008),i=s.n(o),a=s(1163),l=s(1365),c=s(4539),d=s(9401),u=s(1917),x=s(828),m=s(9815),p=s(6501),g=s(670),h=s(6042),f=s(9396),v=s(1015),b=s(6402),y=s(7484),w=s.n(y),j=s(5158),k=s(8304),N=s(1399),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"30",s=new Date,n=0,r={labels:[],sreies:[]};if("all"===t)Object.keys(e).forEach((function(t){var s=e[t]?e[t]:111;r.labels.push(t),r.sreies.push(s)}));else for(var o=parseInt(t,10);o>=0;o-=1){var i=new Date((new Date).setDate(s.getDate()-o)),a="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate()),l=e[a],c=l||(n>0?n:111);0!==c&&(n=l),r.labels.push(a),r.sreies.push(c)}return r},Z=s(5686),D=function(e){var t,s,o,i=e.keywordData,a=e.refreshkeyword,l=e.favoriteKeyword,c=e.removeKeyword,d=e.selectKeyword,u=e.selected,x=e.showKeywordDetails,m=e.manageTags,p=e.lastItem,g=e.showSCData,f=void 0===g||g,y=e.style,D=e.index,C=e.scDataType,S=void 0===C?"threeDays":C,T=i.keyword,M=i.domain,K=i.ID,z=i.city,E=i.position,L=i.url,A=void 0===L?"":L,I=i.lastUpdated,F=i.country,P=i.sticky,O=i.history,R=void 0===O?{}:O,Y=i.updating,U=void 0!==Y&&Y,V=i.lastUpdateError,X=void 0!==V&&V,H=i.volume,q=(0,r.useState)(!1),B=q[0],$=q[1],G=(0,r.useState)(!1),J=G[0],Q=G[1],W=(0,r.useMemo)((function(){return A.replace("https://".concat(M),"").replace("https://www.".concat(M),"").replace("http://".concat(M),"")}),[A,M]),ee=(0,r.useMemo)((function(){return _(R,"7")}),[R]),te=(0,r.useMemo)((function(){var e=0;if(Object.keys(R).length>=2){var t=Object.keys(R).map((function(e){return{date:new Date(e).getTime(),dateRaw:e,position:R[e]}})).sort((function(e,t){return e.date-t.date})),s=t[t.length-2].position;e=0===s?E:s-E,0===E&&s>0&&(e=s-100)}return e}),[R,E]),se=(0,r.useMemo)((function(){var e;if(Object.keys(R).length>0){var t=Object.keys(R).map((function(e){return{date:e,position:R[e]}})).sort((function(e,t){return e.position-t.position}));t[0]&&(e=(0,h.Z)({},t[0]))}return e||!1}),[R]),ne="block px-2 py-2 cursor-pointer hover:bg-indigo-50 hover:text-blue-700";return(0,n.jsxs)("div",{style:y,className:"keyword relative py-5 px-4 text-gray-600 border-b-[1px] border-gray-200 lg:py-4 lg:px-6 lg:border-0 \n      lg:flex lg:justify-between lg:items-center ".concat(u?" bg-indigo-50 keyword--selected":""," ").concat(p?"border-b-0":""),children:[(0,n.jsxs)("div",{className:" w-3/4 font-semibold cursor-pointer lg:flex-1 lg:basis-20 lg:w-auto lg:flex lg:items-center",children:[(0,n.jsx)("button",{className:"p-0 mr-2 leading-[0px] inline-block rounded-sm pt-0 px-[1px] pb-[3px] border \n               ".concat(u?" bg-blue-700 border-blue-700 text-white":"text-transparent"),onClick:function(){return d(K)},children:(0,n.jsx)(v.Z,{type:"check",size:10})}),(0,n.jsxs)("a",{className:"py-2 hover:text-blue-600 lg:flex lg:items-center lg:w-full ".concat(f?"lg:max-w-[180px]":"lg:max-w-[240px]"),onClick:function(){return x()},children:[(0,n.jsx)("span",{className:"fflag fflag-".concat(F," w-[18px] h-[12px] mr-2"),title:j.ZP[F][0]}),(0,n.jsxs)("span",{className:" text-ellipsis overflow-hidden whitespace-nowrap w-[calc(100%-30px)]",children:[T,z?" (".concat(z,")"):""]})]}),P&&(0,n.jsx)("button",{className:"ml-2 relative top-[2px]",title:"Favorite",children:(0,n.jsx)(v.Z,{type:"star-filled",size:16,color:"#fbd346"})}),X&&X.date&&(0,n.jsx)("button",{className:"ml-2 relative top-[2px]",onClick:function(){return Q(!0)},children:(0,n.jsx)(v.Z,{type:"error",size:18,color:"#FF3672"})})]}),(0,n.jsxs)("div",{className:"keyword_position absolute bg-[#f8f9ff] w-fit min-w-[50px] h-12 p-2 text-base mt-[-20px] rounded right-5 lg:relative\n          lg:bg-transparent lg:w-auto lg:h-auto lg:mt-0 lg:p-0 lg:text-sm lg:flex-1 lg:basis-24 lg:grow-0 lg:right-0 text-center font-semibold",children:[(0,n.jsx)(N.Z,{position:E,updating:U}),!U&&te>0&&(0,n.jsxs)("i",{className:" not-italic ml-1 text-xs text-[#5ed7c3]",children:["\u25b2 ",te]}),!U&&te<0&&(0,n.jsxs)("i",{className:" not-italic ml-1 text-xs text-red-300",children:["\u25bc ",te]})]}),(0,n.jsx)("div",{title:se&&se.date?new Date(se.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"}):"",className:"keyword_best hidden bg-[#f8f9ff] w-fit min-w-[50px] h-12 p-2 text-base mt-[-20px] rounded right-5 lg:relative lg:block\n          lg:bg-transparent lg:w-auto lg:h-auto lg:mt-0 lg:p-0 lg:text-sm lg:flex-1 lg:basis-16 lg:grow-0 lg:right-0 text-center font-semibold",children:se?se.position||"-":E||"-"}),ee.labels.length>0&&(0,n.jsx)("div",{className:"hidden basis-20 grow-0 cursor-pointer lg:block",onClick:function(){return x()},children:(0,n.jsx)(k.Z,{labels:ee.labels,sreies:ee.sreies})}),(0,n.jsx)("div",{className:"keyword_best hidden bg-[#f8f9ff] w-fit min-w-[50px] h-12 p-2 text-base mt-[-20px] rounded right-5 lg:relative lg:block\n          lg:bg-transparent lg:w-auto lg:h-auto lg:mt-0 lg:p-0 lg:text-sm lg:flex-1 lg:basis-24 lg:grow-0 lg:right-0 text-center",children:(0,Z.y)(H)}),(0,n.jsx)("div",{className:"keyword_url inline-block mt-4 mr-5 ml-5 lg:flex-1 text-gray-400 lg:m-0 max-w-[70px] \n         overflow-hidden text-ellipsis whitespace-nowrap lg:max-w-none lg:pr-5",children:(0,n.jsxs)("a",{href:A,target:"_blank",rel:"noreferrer",children:[(0,n.jsx)("span",{className:"mr-3 lg:hidden",children:(0,n.jsx)(v.Z,{type:"link-alt",size:14,color:"#999"})}),W||"-"]})}),(0,n.jsxs)("div",{className:"inline-block mt-[4] top-[-5px] relative lg:flex-1 lg:m-0 lg:top-0",children:[(0,n.jsx)("span",{className:"mr-2 lg:hidden",children:(0,n.jsx)(v.Z,{type:"clock",size:14,color:"#999"})}),(0,n.jsx)(b.Z,{title:w()(I).format("DD-MMM-YYYY, hh:mm:ss A"),date:I})]}),f&&(0,n.jsxs)("div",{className:"keyword_sc_data min-w-[170px] text-xs mt-4 pt-2 border-t border-gray-100 top-[6px] relative flex justify-between text-center lg:flex-1 lg:text-sm lg:m-0 lg:mt-0 lg:border-t-0 lg:pt-0 lg:top-0",children:[(0,n.jsxs)("span",{className:"min-w-[40px]",children:[(0,n.jsx)("span",{className:"lg:hidden",children:"SC Position: "}),(0,n.jsx)(N.Z,{position:(null===i||void 0===i||null===(t=i.scData)||void 0===t?void 0:t.position[S])||0,type:"sc"})]}),(0,n.jsxs)("span",{className:"min-w-[40px]",children:[(0,n.jsx)("span",{className:"lg:hidden",children:"Impressions: "}),(null===i||void 0===i||null===(s=i.scData)||void 0===s?void 0:s.impressions[S])||0]}),(0,n.jsxs)("span",{className:"min-w-[40px]",children:[(0,n.jsx)("span",{className:"lg:hidden",children:"Visits: "}),(null===i||void 0===i||null===(o=i.scData)||void 0===o?void 0:o.visits[S])||0]})]}),(0,n.jsxs)("div",{className:"absolute right-4 mt-[-10px] top-2 lg:flex-1 lg:basis-5 lg:grow-0 lg:shrink-0 lg:relative lg:right-[-10px]",children:[(0,n.jsx)("button",{className:"keyword_dots rounded px-1 text-indigo-300 hover:bg-indigo-50 ".concat(B?"bg-indigo-50 text-indigo-600 ":""),onClick:function(){return $(!B)},children:(0,n.jsx)(v.Z,{type:"dots",size:20})}),B&&(0,n.jsxs)("ul",{className:"keyword_options customShadow absolute w-[180px] right-0 bg-white rounded border z-20",children:[(0,n.jsx)("li",{children:(0,n.jsxs)("a",{className:ne,onClick:function(){a([K]),$(!1)},children:[(0,n.jsx)("span",{className:" bg-indigo-100 text-blue-700 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"reload",size:11})})," Refresh Keyword"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{className:ne,onClick:function(){l({keywordID:K,sticky:!P}),$(!1)},children:[(0,n.jsx)("span",{className:" bg-yellow-300/30 text-yellow-500 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"star",size:14})})," ",P?"Unfavorite Keyword":"Favorite Keyword"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{className:ne,onClick:function(){m(),$(!1)},children:[(0,n.jsx)("span",{className:" bg-green-100 text-green-500 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"tags",size:14})})," Add/Edit Tags"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{className:ne,onClick:function(){c([K]),$(!1)},children:[(0,n.jsx)("span",{className:" bg-red-100 text-red-600 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"trash",size:14})})," Remove Keyword"]})})]})]}),X&&X.date&&J&&(0,n.jsxs)("div",{className:"absolute p-2 bg-white z-30 border border-red-200 rounded w-[220px] left-4 shadow-sm text-xs \n            ".concat(D>2?"lg:bottom-12 mt-[-70px]":" top-12"),children:["Error Updating Keyword position (Tried ",(0,n.jsx)(b.Z,{title:w()(X.date).format("DD-MMM-YYYY, hh:mm:ss A"),date:X.date}),")",(0,n.jsx)("i",{className:"absolute top-0 right-0 ml-2 p-2 font-semibold not-italic cursor-pointer",onClick:function(){return Q(!1)},children:(0,n.jsx)(v.Z,{type:"close",size:16,color:"#999"})}),(0,n.jsxs)("div",{className:" border-t-[1px] border-red-100 mt-2 pt-1",children:[X.scraper&&(0,n.jsxs)("strong",{className:"capitalize",children:[X.scraper,": "]}),X.error]})]})]},T+K)},C=s(2657),S=s(5924),T=s(4789),M=s(3251),K=function(e){var t=e.keyword,s=e.closeDetails,o=new Date(t.lastUpdated),i=(0,r.useState)("30"),a=i[0],l=i[1],c=(0,r.useRef)(null),d=(0,r.useRef)(null),u=(0,T.Pt)(t.ID).data,x=(null===u||void 0===u?void 0:u.history)||t.history,m=(null===u||void 0===u?void 0:u.searchResult)||t.history;(0,M.Z)("Escape",s),(0,r.useLayoutEffect)((function(){t.position<100&&t.position>0&&(null===d||void 0===d?void 0:d.current)&&d.current.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),[m,t.position]);var p=(0,r.useMemo)((function(){return _(x,a)}),[x,a]);return(0,n.jsx)("div",{className:"keywordDetails fixed w-full h-screen top-0 left-0 z-[99999]",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.target===e.currentTarget&&s()},"data-testid":"keywordDetails",children:(0,n.jsxs)("div",{className:"keywordDetails absolute w-full lg:w-5/12 bg-white customShadow top-0 right-0 h-screen",children:[(0,n.jsxs)("div",{className:"keywordDetails__header p-6 border-b border-b-slate-200 text-slate-500",children:[(0,n.jsxs)("h3",{className:" text-lg font-bold",children:[(0,n.jsx)("span",{title:j.ZP[t.country][0],className:"fflag fflag-".concat(t.country," w-[18px] h-[12px] mr-2")})," ",t.keyword,(0,n.jsx)("span",{className:"py-1 px-2 ml-2 rounded bg-blue-50 text-blue-700 text-xs font-bold",children:t.position})]}),(0,n.jsx)("button",{className:"absolute top-2 right-2 p-2 px-3 text-gray-400 hover:text-gray-700 transition-all hover:rotate-90",onClick:function(){return s()},children:(0,n.jsx)(v.Z,{type:"close",size:24})})]}),(0,n.jsxs)("div",{className:"keywordDetails__content p-6",children:[(0,n.jsxs)("div",{className:"keywordDetails__section",children:[(0,n.jsxs)("div",{className:"keywordDetails__section__head flex justify-between mb-5",children:[(0,n.jsx)("h3",{className:" font-bold text-gray-700 text-lg",children:"SERP History"}),(0,n.jsx)("div",{className:"keywordDetails__section__chart_select mr-3",children:(0,n.jsx)(S.Z,{options:[{label:"Last 7 Days",value:"7"},{label:"Last 30 Days",value:"30"},{label:"Last 90 Days",value:"90"},{label:"1 Year",value:"360"},{label:"All Time",value:"all"}],selected:[a],defaultLabel:"Select Date",updateField:function(e){return l(e[0])},multiple:!1,rounded:"rounded"})})]}),(0,n.jsx)("div",{className:"keywordDetails__section__chart h-64",children:(0,n.jsx)(C.Z,{labels:p.labels,sreies:p.sreies})})]}),(0,n.jsxs)("div",{className:"keywordDetails__section mt-10",children:[(0,n.jsxs)("div",{className:"keywordDetails__section__head flex justify-between items-center pb-4 mb-4 border-b border-b-slate-200",children:[(0,n.jsxs)("h3",{className:" font-bold text-gray-700 lg:text-lg",children:["Google Search Result",(0,n.jsx)("a",{className:"text-gray-400 hover:text-indigo-600 inline-block ml-1 px-2 py-1",href:"https://www.google.com/search?q=".concat(encodeURI(t.keyword)),target:"_blank",rel:"noreferrer",children:(0,n.jsx)(v.Z,{type:"link",size:14})})]}),(0,n.jsx)("span",{className:" text-xs text-gray-500",children:w()(o).format("MMMM D, YYYY")})]}),(0,n.jsx)("div",{className:"keywordDetails__section__results styled-scrollbar overflow-y-auto",ref:c,children:m&&Array.isArray(m)&&m.length>0&&m.map((function(e,s){var r=t.position,o=r<100&&s===r-1;return(0,n.jsxs)("div",{ref:o?d:null,className:"leading-6 mb-4 mr-3 p-3 text-sm break-all pr-3 rounded \n                                 ".concat(o?" bg-amber-50 border border-amber-200":""),children:[(0,n.jsx)("h4",{className:"font-semibold text-blue-700",children:(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:"".concat(s+1,". ").concat(e.title)})}),(0,n.jsx)("a",{className:" text-green-900",href:e.url,target:"_blank",rel:"noreferrer",children:e.url})]},e.url+e.position)}))})]})]})]})})},z=s(2381),E=s(6561),L=s(4924),A=function(e){var t=e.keywords,s=void 0===t?[]:t,o=e.existingTags,i=void 0===o?[]:o,a=e.closeModal,l=(0,r.useState)((function(){return 1===s.length?s[0].tags.join(", "):""})),c=l[0],d=l[1],u=(0,r.useState)(""),x=u[0],p=u[1],g=(0,r.useState)(!1),h=g[0],f=g[1],b=(0,T.nt)((function(){d("")})).mutate,y=(0,r.useRef)(null),w=function(){if(0!==s.length){if(!c&&s.length>1)return p("Please Insert a Tag!"),void setTimeout((function(){p("")}),3e3);var e=c.split(",").map((function(e){return e.trim()})),t={};s.forEach((function(n){t[n.ID]=1===s.length?e:(0,m.Z)(new Set((0,m.Z)(n.tags).concat((0,m.Z)(e))))})),b({tags:t})}};return(0,n.jsx)(E.Z,{closeModal:function(){a(!1)},title:"Add New Tags to ".concat(s.length," Selected Keyword"),children:(0,n.jsxs)("div",{className:"relative",children:[x&&(0,n.jsx)("span",{className:"absolute top-[-24px] text-red-400 text-sm font-semibold",children:x}),(0,n.jsxs)("span",{className:"absolute text-gray-400 top-3 left-2 cursor-pointer",onClick:function(){return f(!h)},children:[(0,n.jsx)(v.Z,{type:"tags",size:16,color:h?"#777":"#aaa"}),(0,n.jsx)(v.Z,{type:h?"caret-up":"caret-down",size:14,color:h?"#666":"#aaa"})]}),(0,n.jsx)("input",{ref:y,className:"w-full border rounded border-gray-200 py-3 px-4 pl-12 outline-none focus:border-indigo-300",placeholder:"Insert Tags. eg: tag1, tag2",value:c,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&(e.preventDefault(),w())}}),h&&(0,n.jsxs)("ul",{className:"absolute z-50\n               bg-white border border-t-0 border-gray-200 rounded rounded-t-none w-full",children:[i.length>0&&i.map((function(e,t){return!1===c.split(",").map((function(e){return e.trim()})).includes(e)&&(0,n.jsxs)("li",{className:" p-2 cursor-pointer hover:text-indigo-600 hover:bg-indigo-50 transition",onClick:function(){var t=c+(","===c.trim().slice(-1)?"":c.trim()?", ":"")+e;d(t),f(!1),(null===y||void 0===y?void 0:y.current)&&y.current.focus()},children:[(0,n.jsx)(v.Z,{type:"tags",size:14,color:"#bbb"})," ",e]},t)})),0===i.length&&(0,n.jsx)("p",{children:"No Existing Tags Found... "})]}),(0,n.jsx)("button",{className:" absolute right-2 top-2 cursor-pointer rounded p-2 px-4 bg-indigo-600 text-white font-semibold text-sm",onClick:w,children:"Apply"})]})})},I=function(e){var t=e.keyword,s=e.allTags,o=void 0===s?[]:s,i=e.closeModal,a=(0,r.useState)(!1),l=a[0],c=a[1],d=(0,T.nt)((function(){})).mutate;return(0,n.jsxs)(E.Z,{closeModal:function(){i(!1)},title:'Tags for Keyword "'.concat(t&&t.keyword,'"'),children:[(0,n.jsxs)("div",{className:"text-sm my-8 ",children:[t&&t.tags.length>0&&(0,n.jsxs)("ul",{children:[t.tags.map((function(e){return(0,n.jsxs)("li",{className:"inline-block bg-slate-50 py-1 px-3 border rounded mr-4 mb-3 text-slate-500",children:[(0,n.jsx)(v.Z,{type:"tags",size:14,classes:"mr-2"}),e,(0,n.jsx)("button",{className:"ml-1 cursor-pointer rounded px-1 hover:bg-red-200 hover:text-red-700",onClick:function(){return function(e){if(t){var s=t.tags.filter((function(t){return t!==e.trim()}));d({tags:(0,L.Z)({},t.ID,s)})}}(e)},children:(0,n.jsx)(v.Z,{type:"close",size:14})})]},e)})),(0,n.jsx)("li",{className:"inline-block py-1 px-1",children:(0,n.jsx)("button",{title:"Add New Tag",className:"cursor-pointer rounded p-1 px-3 bg-indigo-600 text-white font-semibold text-sm",onClick:function(){return c(!0)},children:"+"})})]}),t&&0===t.tags.length&&(0,n.jsxs)("div",{className:"text-center w-full text-gray-500",children:["No Tags Added to this Keyword. ",(0,n.jsx)("button",{className:" text-indigo-600",onClick:function(){return c(!0)},children:"+ Add Tag"})]})]}),l&&t&&(0,n.jsx)(A,{existingTags:o,keywords:[t],closeModal:function(){return c(!1)}})]})},F=s(5002),P=s(4523),O=function(e){var t=e.keywords,s=void 0===t?[]:t,o=e.isLoading,i=void 0===o||o,a=e.isConsoleIntegrated,l=void 0!==a&&a,c=l,d=(0,r.useState)("desktop"),u=d[0],b=d[1],y=(0,r.useState)([]),w=y[0],j=y[1],k=(0,r.useState)(null),N=k[0],_=k[1],Z=(0,r.useState)(!1),C=Z[0],S=Z[1],M=(0,r.useState)(null),L=M[0],O=M[1],R=(0,r.useState)(!1),Y=R[0],U=R[1],V=(0,r.useState)(500),X=V[0],H=V[1],q=(0,r.useState)({countries:[],tags:[],search:""}),B=q[0],$=q[1],G=(0,r.useState)("date_asc"),J=G[0],Q=G[1],W=(0,r.useState)("threeDays"),ee=W[0],te=W[1],se=(0,r.useState)(!1),ne=se[0],re=se[1],oe=(0,T.Q$)((function(){})).mutate,ie=(0,T.A$)((function(){})).mutate,ae=(0,T.lm)((function(){})).mutate,le=(0,x.Z)((0,P.Z)(),1)[0];(0,F.Z)((function(){return H(window.innerHeight-(le?200:400))}));var ce={threeDays:"Last Three Days",sevenDays:"Last Seven Days",thirtyDays:"Last Thirty Days",avgThreeDays:"Last Three Days Avg",avgSevenDays:"Last Seven Days Avg",avgThirtyDays:"Last Thirty Days Avg"},de=(0,r.useMemo)((function(){var e=function(e,t){var s=[];return e.forEach((function(e){var n=0===t.countries.length||t.countries&&t.countries.includes(e.country),r=!t.search||t.search&&e.keyword.toLowerCase().includes(t.search.toLowerCase()),o=0===t.tags.length||t.tags&&e.tags.find((function(e){return t.tags.includes(e)}));n&&r&&o&&s.push(e)})),s}(s.filter((function(e){return e.device===u})),B),t=function(e,t,s){var n=[],r=e.map((function(e){return(0,f.Z)((0,h.Z)({},e),{position:0===e.position?111:e.position})}));switch(t){case"date_asc":n=e.sort((function(e,t){return new Date(t.added).getTime()-new Date(e.added).getTime()}));break;case"date_desc":n=e.sort((function(e,t){return new Date(e.added).getTime()-new Date(t.added).getTime()}));break;case"pos_asc":n=(n=r.sort((function(e,t){return t.position>e.position?1:-1}))).map((function(e){return(0,f.Z)((0,h.Z)({},e),{position:111===e.position?0:e.position})}));break;case"pos_desc":n=(n=r.sort((function(e,t){return e.position>t.position?1:-1}))).map((function(e){return(0,f.Z)((0,h.Z)({},e),{position:111===e.position?0:e.position})}));break;case"alpha_asc":n=e.sort((function(e,t){return t.keyword>e.keyword?1:-1}));break;case"alpha_desc":n=e.sort((function(e,t){return e.keyword>t.keyword?1:-1}));break;case"vol_asc":n=e.sort((function(e,t){return t.volume-e.volume}));break;case"vol_desc":n=e.sort((function(e,t){return e.volume-t.volume}));break;case"imp_desc":s&&(n=e.sort((function(e,t){var n,r,o=(null===(n=t.scData)||void 0===n?void 0:n.impressions[s])||0;return((null===(r=e.scData)||void 0===r?void 0:r.impressions[s])||0)>o?1:-1})));break;case"imp_asc":s&&(n=e.sort((function(e,t){var n,r;return((null===(n=t.scData)||void 0===n?void 0:n.impressions[s])||0)>((null===(r=e.scData)||void 0===r?void 0:r.impressions[s])||0)?1:-1})));break;case"visits_desc":s&&(n=e.sort((function(e,t){var n,r,o=(null===(n=t.scData)||void 0===n?void 0:n.visits[s])||0;return((null===(r=e.scData)||void 0===r?void 0:r.visits[s])||0)>o?1:-1})));break;case"visits_asc":s&&(n=e.sort((function(e,t){var n,r;return((null===(n=t.scData)||void 0===n?void 0:n.visits[s])||0)>((null===(r=e.scData)||void 0===r?void 0:r.visits[s])||0)?1:-1})));break;default:return e}return n.sort((function(e,t){return t.sticky>e.sticky?1:-1}))}(e,J,ee);return function(e,t){var s={desktop:[],mobile:[]};return e.forEach((function(e){e.device===t&&s[t].push(e)})),s}(t,u)}),[s,u,J,B,ee]),ue=(0,r.useMemo)((function(){var e=s.reduce((function(e,t){return(0,m.Z)(e).concat((0,m.Z)(t.tags))}),[]).filter((function(e){return e&&""!==e.trim()}));return(0,m.Z)(new Set(e))}),[s]),xe=function(e){console.log("Select Keyword: ",e);var t=(0,m.Z)(w).concat([e]);w.includes(e)&&(t=w.filter((function(t){return t!==e}))),j(t)},me=w.length===de[u].length;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"domKeywords flex flex-col bg-[white] rounded-md text-sm border mb-5",children:[w.length>0&&(0,n.jsx)("div",{className:"font-semibold text-sm py-4 px-8 text-gray-500 ",children:(0,n.jsxs)("ul",{className:"",children:[(0,n.jsx)("li",{className:"inline-block mr-4",children:(0,n.jsxs)("a",{className:"block px-2 py-2 cursor-pointer hover:text-indigo-600",onClick:function(){ae({ids:w}),j([])},children:[(0,n.jsx)("span",{className:" bg-indigo-100 text-blue-700 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"reload",size:11})})," Refresh Keywords"]})}),(0,n.jsx)("li",{className:"inline-block mr-4",children:(0,n.jsxs)("a",{className:"block px-2 py-2 cursor-pointer hover:text-indigo-600",onClick:function(){return S(!0)},children:[(0,n.jsx)("span",{className:" bg-red-100 text-red-600 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"trash",size:14})})," Remove Keywords"]})}),(0,n.jsx)("li",{className:"inline-block mr-4",children:(0,n.jsxs)("a",{className:"block px-2 py-2 cursor-pointer hover:text-indigo-600",onClick:function(){return U(!0)},children:[(0,n.jsx)("span",{className:" bg-green-100 text-green-500 px-1 rounded",children:(0,n.jsx)(v.Z,{type:"tags",size:14})})," Tag Keywords"]})})]})}),0===w.length&&(0,n.jsx)(z.Z,{allTags:ue,filterParams:B,filterKeywords:function(e){return $(e)},updateSort:function(e){return Q(e)},sortBy:J,keywords:s,device:u,setDevice:b,integratedConsole:l}),(0,n.jsx)("div",{className:"domkeywordsTable domkeywordsTable--keywords ".concat(c?"domkeywordsTable--hasSC":""," \n               styled-scrollbar w-full overflow-auto min-h-[60vh]"),children:(0,n.jsxs)("div",{className:" lg:min-w-[800px]",children:[(0,n.jsxs)("div",{className:"domKeywords_head domKeywords_head--".concat(J," hidden lg:flex p-3 px-6 bg-[#FCFCFF]\n                   text-gray-600 justify-between items-center font-semibold border-y"),children:[(0,n.jsxs)("span",{className:"domKeywords_head_keyword flex-1 basis-[4rem] w-auto ",children:[de[u].length>0&&(0,n.jsx)("button",{className:"p-0 mr-2 leading-[0px] inline-block rounded-sm pt-0 px-[1px] pb-[3px]  border border-slate-300 \n                           ".concat(me?" bg-blue-700 border-blue-700 text-white":"text-transparent"),onClick:function(){return j(me?[]:de[u].map((function(e){return e.ID})))},children:(0,n.jsx)(v.Z,{type:"check",size:10})}),"Keyword"]}),(0,n.jsx)("span",{className:"domKeywords_head_position flex-1 basis-24 grow-0 text-center",children:"Position"}),(0,n.jsx)("span",{className:"domKeywords_head_best flex-1 basis-16 grow-0 text-center",children:"Best"}),(0,n.jsx)("span",{className:"domKeywords_head_history flex-1 basis-20 grow-0",children:"History (7d)"}),(0,n.jsx)("span",{className:"domKeywords_head_volume flex-1 basis-24 grow-0 text-center",children:"Volume"}),(0,n.jsx)("span",{className:"domKeywords_head_url flex-1",children:"URL"}),(0,n.jsx)("span",{className:"domKeywords_head_updated flex-1 relative left-3",children:"Updated"}),c&&(0,n.jsxs)("div",{className:"domKeywords_head_sc flex-1 min-w-[170px] mr-7 text-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:" w-48 select-none cursor-pointer absolute bg-white rounded-full px-2 py-[2px] mt-[-22px] ml-3 border border-gray-200 z-40",onClick:function(){return re(!ne)},children:[(0,n.jsx)(v.Z,{type:"google",size:13})," ",ce[ee],(0,n.jsx)(v.Z,{classes:"ml-2",type:ne?"caret-up":"caret-down",size:10})]}),ne&&(0,n.jsx)("div",{className:"absolute bg-white border border-gray-200 z-50 w-44 rounded mt-2 ml-5 text-gray-500",children:Object.keys(ce).map((function(e){return(0,n.jsx)("span",{className:"block p-2 cursor-pointer hover:bg-indigo-50 hover:text-indigo-600\n                                                 ".concat(ee===e?"bg-indigo-100 text-indigo-600":""),onClick:function(){te(e),re(!1)},children:ce[e]},e)}))})]}),(0,n.jsxs)("div",{className:"relative top-2 flex justify-between",children:[(0,n.jsx)("span",{className:"min-w-[40px]",children:"Pos"}),(0,n.jsx)("span",{className:"min-w-[40px]",children:"Imp"}),(0,n.jsx)("span",{className:"min-w-[40px]",children:"Visits"})]})]})]}),(0,n.jsxs)("div",{className:"domKeywords_keywords border-gray-200 min-h-[55vh] relative",children:[de[u]&&de[u].length>0&&(0,n.jsx)(g.t7,{innerElementType:"div",itemData:de[u],itemCount:de[u].length,itemSize:le?146:57,height:X,width:"100%",className:"styled-scrollbar",children:function(e){var t=e.data,s=e.index,r=e.style,o=t[s];return(0,n.jsx)(D,{style:r,index:s,selected:w.includes(o.ID),selectKeyword:xe,keywordData:o,refreshkeyword:function(){return ae({ids:[o.ID]})},favoriteKeyword:ie,manageTags:function(){return O(o.ID)},removeKeyword:function(){j([o.ID]),S(!0)},showKeywordDetails:function(){return _(o)},lastItem:s===de[u].length-1,showSCData:c,scDataType:ee},o.ID)}}),!i&&0===de[u].length&&(0,n.jsx)("p",{className:" p-9 pt-[10%] text-center text-gray-500",children:"No Keywords Added for this Device Type."}),i&&(0,n.jsx)("p",{className:" p-9 pt-[10%] text-center text-gray-500",children:"Loading Keywords..."})]})]})})]}),N&&N.ID&&(0,n.jsx)(K,{keyword:N,closeDetails:function(){return _(null)}}),C&&w.length>0&&(0,n.jsx)(E.Z,{closeModal:function(){j([]),S(!1)},title:"Remove Keywords",children:(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsxs)("p",{children:["Are you sure you want to remove ",w.length>1?"these":"this"," Keyword?"]}),(0,n.jsxs)("div",{className:"mt-6 text-right font-semibold",children:[(0,n.jsx)("button",{className:" py-1 px-5 rounded cursor-pointer bg-indigo-50 text-slate-500 mr-3",onClick:function(){j([]),S(!1)},children:"Cancel"}),(0,n.jsx)("button",{className:" py-1 px-5 rounded cursor-pointer bg-red-400 text-white",onClick:function(){oe(w),S(!1),j([])},children:"Remove"})]})]})}),L&&(0,n.jsx)(I,{allTags:ue,keyword:s.find((function(e){return e.ID===L})),closeModal:function(){return O(null)}}),Y&&(0,n.jsx)(A,{existingTags:ue,keywords:s.filter((function(e){return w.includes(e.ID)})),closeModal:function(){return U(!1)}}),(0,n.jsx)(p.x7,{position:"bottom-center",containerClassName:"react_toaster"})]})},R=s(602),Y=s(9338),U=s(5057),V=s(2),X=s(6733),H=s(9870),q=function(e){var t=e.closeModal,s=e.domain,o=e.keywords,i=e.scraperName,a=void 0===i?"":i,l=e.allowsCity,c=void 0!==l&&l,d=(0,r.useState)(""),u=d[0],x=d[1],p=(0,r.useState)(!1),g=p[0],b=p[1],y=(0,r.useRef)(null),w=localStorage.getItem("default_country")||"US",k=(0,r.useState)({keywords:"",device:"desktop",country:w,domain:s,tags:""}),N=k[0],_=k[1],Z=(0,T.Y9)((function(){return t(!1)})),D=Z.mutate,C=Z.isLoading,M=(0,r.useMemo)((function(){var e=o.reduce((function(e,t){return(0,m.Z)(e).concat((0,m.Z)(t.tags))}),[]).filter((function(e){return e&&""!==e.trim()}));return(0,m.Z)(new Set(e))}),[o]),K="cursor-pointer px-3 py-2 rounded mr-2";return(0,n.jsx)(E.Z,{closeModal:function(){t(!1)},title:"Add New Keywords",width:"[420px]",children:(0,n.jsxs)("div",{"data-testid":"addkeywords_modal",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{className:"w-full h-40 border rounded border-gray-200 p-4 outline-none focus:border-indigo-300",placeholder:"Type or Paste Keywords here. Insert Each keyword in a New line.",value:N.keywords,onChange:function(e){return _((0,f.Z)((0,h.Z)({},N),{keywords:e.target.value}))}})}),(0,n.jsxs)("div",{className:" my-3 flex justify-between text-sm",children:[(0,n.jsx)("div",{children:(0,n.jsx)(S.Z,{multiple:!1,selected:[N.country],options:Object.keys(j.ZP).map((function(e){return{label:j.ZP[e][0],value:e}})),defaultLabel:"All Countries",updateField:function(e){_((0,f.Z)((0,h.Z)({},N),{country:e[0]})),localStorage.setItem("default_country",e[0])},rounded:"rounded",maxHeight:48,flags:!0})}),(0,n.jsxs)("ul",{className:"flex text-xs font-semibold text-gray-500",children:[(0,n.jsxs)("li",{className:"".concat(K," ").concat("desktop"===N.device?"  bg-indigo-50 text-gray-700":""),onClick:function(){return _((0,f.Z)((0,h.Z)({},N),{device:"desktop"}))},children:[(0,n.jsx)(v.Z,{type:"desktop",classes:"top-[3px]",size:15})," ",(0,n.jsx)("i",{className:"not-italic hidden lg:inline-block",children:"Desktop"})]}),(0,n.jsxs)("li",{className:"".concat(K," ").concat("mobile"===N.device?"  bg-indigo-50 text-gray-700":""),onClick:function(){return _((0,f.Z)((0,h.Z)({},N),{device:"mobile"}))},children:[(0,n.jsx)(v.Z,{type:"mobile"})," ",(0,n.jsx)("i",{className:"not-italic hidden lg:inline-block",children:"Mobile"})]})]})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{className:"w-full border rounded border-gray-200 py-2 px-4 pl-12 outline-none focus:border-indigo-300",placeholder:"Insert Tags (Optional)",value:N.tags,onChange:function(e){return _((0,f.Z)((0,h.Z)({},N),{tags:e.target.value}))}}),(0,n.jsxs)("span",{className:"absolute text-gray-400 top-3 left-2 cursor-pointer",onClick:function(){return b(!g)},children:[(0,n.jsx)(v.Z,{type:"tags",size:16,color:g?"#777":"#aaa"}),(0,n.jsx)(v.Z,{type:g?"caret-up":"caret-down",size:14,color:g?"#666":"#aaa"})]}),g&&(0,n.jsxs)("ul",{className:"absolute z-50\n                     bg-white border border-t-0 border-gray-200 rounded rounded-t-none w-full",children:[M.length>0&&M.map((function(e,t){return!1===N.tags.split(",").map((function(e){return e.trim()})).includes(e)&&(0,n.jsxs)("li",{className:" p-2 cursor-pointer hover:text-indigo-600 hover:bg-indigo-50 transition",onClick:function(){var t=N.tags,s=t+(","===t.trim().slice(-1)?"":t.trim()?", ":"")+e;_((0,f.Z)((0,h.Z)({},N),{tags:s})),b(!1),(null===y||void 0===y?void 0:y.current)&&y.current.focus()},children:[(0,n.jsx)(v.Z,{type:"tags",size:14,color:"#bbb"})," ",e]},t)})),0===M.length&&(0,n.jsx)("p",{children:"No Existing Tags Found... "})]})]}),(0,n.jsxs)("div",{className:"relative mt-2",children:[(0,n.jsx)("input",{className:"w-full border rounded border-gray-200 py-2 px-4 pl-8 \n                     outline-none focus:border-indigo-300 ".concat(c?"":" cursor-not-allowed"," "),disabled:!c,title:c?"":"Your scraper ".concat(a," doesn't have city level scraping feature."),placeholder:"City (Optional)".concat(c?"":". Not avaialable for ".concat(a,".")),value:N.city,onChange:function(e){return _((0,f.Z)((0,h.Z)({},N),{city:e.target.value}))}}),(0,n.jsx)("span",{className:"absolute text-gray-400 top-2 left-2",children:(0,n.jsx)(v.Z,{type:"city",size:16})})]})]}),u&&(0,n.jsx)("div",{className:"w-full mt-4 p-3 text-sm bg-red-50 text-red-700",children:u}),(0,n.jsxs)("div",{className:"mt-6 text-right text-sm font-semibold flex justify-between",children:[(0,n.jsx)("button",{className:" py-2 px-5 rounded cursor-pointer bg-indigo-50 text-slate-500 mr-3",onClick:function(){return t(!1)},children:"Cancel"}),(0,n.jsx)("button",{className:" py-2 px-5 rounded cursor-pointer bg-blue-700 text-white",onClick:function(){return!C&&function(){if(N.keywords){var e=(0,m.Z)(new Set(N.keywords.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e})))),t=o.map((function(e){return"".concat(e.keyword,"-").concat(e.device,"-").concat(e.country).concat(e.city?"-".concat(e.city):"")})),s=e.filter((function(e){return t.includes("".concat(e,"-").concat(N.device,"-").concat(N.country).concat(N.city?"-".concat(N.city):""))}));if(s.length>0)x("Keywords ".concat(s.join(",")," already Exist")),setTimeout((function(){x("")}),3e3);else{var n=N.device,r=N.country,i=N.domain,a=N.tags,l=N.city,c=e.map((function(e){return{keyword:e,device:n,country:r,domain:i,tags:a,city:l}}));D(c)}}else x("Please Insert a Keyword"),setTimeout((function(){x("")}),3e3)}()},children:C?"Adding....":"Add Keywords"})]})]})})},B=s(1602),$=function(){var e=(0,a.useRouter)(),t=(0,r.useState)(!1),s=t[0],o=t[1],x=(0,r.useState)(!1),m=x[0],p=x[1],g=(0,r.useState)(!1),h=g[0],f=g[1],v=(0,r.useState)(!1),b=v[0],y=v[1],w=(0,r.useState)(void 0),j=w[0],k=w[1],N=(0,H.pX)(),_=N.data,Z=N.isLoading,D=(0,X.fW)(e).data,C=(null===_||void 0===_?void 0:_.settings)||{},S=C.scraper_type,M=void 0===S?"":S,K=C.available_scapers,z=void 0===K?[]:K,E=(0,r.useMemo)((function(){return z.find((function(e){return e.value===M}))}),[M,z]),L=(0,r.useMemo)((function(){var t,s=null;return(null===D||void 0===D?void 0:D.domains)&&(null===(t=e.query)||void 0===t?void 0:t.slug)&&(s=D.domains.find((function(t){return t.slug===e.query.slug}))||null),s}),[e.query.slug,D]),A=(0,r.useMemo)((function(){var e=(null===L||void 0===L?void 0:L.search_console)?JSON.parse(L.search_console):{};return!(!(null===e||void 0===e?void 0:e.client_email)||!(null===e||void 0===e?void 0:e.private_key))}),[L]),I=(0,T.Hz)(e,(null===L||void 0===L?void 0:L.domain)||"",k,j),F=I.keywordsData,P=I.keywordsLoading,$=D&&D.domains||[],G=F&&F.keywords;return(0,n.jsxs)("div",{className:"Domain ",children:[(!M||"none"===M)&&!Z&&(0,n.jsx)("div",{className:" p-3 bg-red-600 text-white text-sm text-center",children:"A Scrapper/Proxy has not been set up Yet. Open Settings to set it up and start using the app."}),L&&L.domain&&(0,n.jsx)(i(),{children:(0,n.jsxs)("title",{children:["".concat(L.domain," - ZeniBot")," "]})}),(0,n.jsx)(d.Z,{showSettings:function(){return y(!0)},showAddModal:function(){return p(!0)}}),(0,n.jsxs)("div",{className:"flex w-full max-w-7xl mx-auto",children:[(0,n.jsx)(c.Z,{domains:$,showAddModal:function(){return p(!0)}}),(0,n.jsxs)("div",{className:"domain_kewywords px-5 pt-10 lg:px-0 lg:pt-8 w-full",children:[L&&L.domain?(0,n.jsx)(u.Z,{domain:L,domains:$,showAddModal:o,showSettingsModal:f,exportCsv:function(){return(0,U.Z)(G,L.domain)}}):(0,n.jsx)("div",{className:"w-full lg:h-[100px]"}),(0,n.jsx)(O,{isLoading:P,domain:L,keywords:G,showAddModal:s,setShowAddModal:o,isConsoleIntegrated:!(!C||!C.search_console_integrated)||A})]})]}),(0,n.jsx)(l.Z,{in:m,timeout:300,classNames:"modal_anim",unmountOnExit:!0,mountOnEnter:!0,children:(0,n.jsx)(R.Z,{closeModal:function(){return p(!1)},domains:(null===D||void 0===D?void 0:D.domains)||[]})}),(0,n.jsx)(l.Z,{in:h,timeout:300,classNames:"modal_anim",unmountOnExit:!0,mountOnEnter:!0,children:(0,n.jsx)(Y.Z,{domain:!!(h&&$&&L&&L.domain)&&L,closeModal:f})}),(0,n.jsx)(l.Z,{in:b,timeout:300,classNames:"settings_anim",unmountOnExit:!0,mountOnEnter:!0,children:(0,n.jsx)(V.Z,{closeSettings:function(){return y(!1)}})}),(0,n.jsx)(l.Z,{in:s,timeout:300,classNames:"modal_anim",unmountOnExit:!0,mountOnEnter:!0,children:(0,n.jsx)(q,{domain:(null===L||void 0===L?void 0:L.domain)||"",scraperName:(null===E||void 0===E?void 0:E.label)||"",keywords:G,allowsCity:!!(null===E||void 0===E?void 0:E.allowsCity),closeModal:function(){return o(!1)}})}),(0,n.jsx)(B.Z,{currentVersion:(null===C||void 0===C?void 0:C.version)?C.version:""})]})}}},function(e){e.O(0,[757,358,670,389,15,971,726,594,774,888,179],(function(){return t=2661,e(e.s=t);var t}));var t=e.O();_N_E=t}]);