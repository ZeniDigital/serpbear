"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{1602:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(5893),o=n(7294),s=n(1365),i=n(7568),a=n(7582),l=n(8767);function c(){return(c=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,fetch("https://api.github.com/repos/towfiqi/serpbear/releases",{method:"GET"})];case 1:return[2,e.sent().json()]}}))}))).apply(this,arguments)}function u(){return(0,l.useQuery)("changelog",(function(){return function(){return c.apply(this,arguments)}()}),{cacheTime:36e5})}var d=n(6402),p=n(7484),f=n.n(p),h=n(1015),m=n(3251),g=function(e){var t=e.children,n=e.closePanel,o=(e.width,e.position),s=void 0===o?"right":o,i=e.title,a=void 0===i?"":i;(0,m.Z)("Escape",n);return(0,r.jsx)("div",{className:"SidePanel fixed w-full h-screen top-0 left-0 z-50",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.target===e.currentTarget&&n()},children:(0,r.jsxs)("div",{className:"absolute w-full max-w-md  border-l border-l-gray-400 bg-white customShadow top-0 \n         ".concat("left"===s?"left-0":"right-0"," h-screen"),children:[(0,r.jsxs)("div",{className:"SidePanel__header px-5 py-4 text-slate-500 border-b border-b-gray-100",children:[(0,r.jsx)("h3",{className:" text-black text-lg font-bold",children:a}),(0,r.jsx)("button",{className:" absolute top-2 right-2 p-2 px- text-gray-400 hover:text-gray-700 transition-all hover:rotate-90",onClick:function(){return n()},children:(0,r.jsx)(h.Z,{type:"close",size:24})})]}),(0,r.jsx)("div",{children:t})]})})},b=o.lazy((function(){return n.e(28).then(n.bind(n,1028))})),v=function(){return(0,r.jsx)("div",{className:"w-full h-full absolute flex justify-center items-center",children:(0,r.jsx)(h.Z,{type:"loading",size:36,color:"#999"})})},x=function(e){var t=e.closeChangeLog,n=u(),s=n.data,i=n.isLoading;(0,o.useLayoutEffect)((function(){document.body.style.overflow="hidden"}),[]);var a=(0,o.useMemo)((function(){return s&&Array.isArray(s)?s.map((function(e){var t=e.name,n=void 0===t?"":t,r=e.body,o=e.published_at;return{version:n,major:!!n.match(/v\d+\.0+\.0/),date:o,content:r.replaceAll(/^(##|###) \[([^\]]+)\]\(([^)]+)\) \(([^)]+)\)/g,"").replaceAll(/\(\[(.*?)\]\((https:\/\/github\.com\/towfiqi\/serpbear\/commit\/([a-f0-9]{40}))\)\)/g,"")}})):[]}),[s]);return(0,r.jsx)(g,{title:"SerpBear Changelog",closePanel:function(){document.body.style.overflow="auto",t()},children:(0,r.jsxs)(o.Suspense,{fallback:(0,r.jsx)(v,{}),children:[!i&&a.length>0&&(0,r.jsx)("div",{className:"changelog-body bg-[#f8f9ff] px-6 pt-4 pb-10 overflow-y-auto styled-scrollbar",children:a.map((function(e){var t=e.version,n=e.content,o=e.date,s=e.major;return(0,r.jsxs)("div",{className:"domKeywords bg-white rounded mb-6 border ".concat(s?" border-indigo-400":"border-transparent"),children:[(0,r.jsxs)("h4",{className:" px-5 py-3 border-b border-b-gray-100 flex justify-between text-indigo-700 font-semibold",children:[(0,r.jsxs)("a",{href:"https://github.com/towfiqi/serpbear/releases/tag/".concat(t),children:[t," ",s&&(0,r.jsx)("span",{className:" text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded ml-2",children:"Major"})]}),(0,r.jsx)("span",{className:" text-sm text-gray-500",children:(0,r.jsx)(d.Z,{title:f()(o).format("DD-MMM-YYYY, hh:mm:ss A"),date:o})})]}),(0,r.jsx)("div",{className:"changelog-content px-5 py-3 text-sm text-left",children:(0,r.jsx)(b,{children:n})})]},t)}))}),i&&(0,r.jsx)(v,{})]})})},y=function(e){var t=e.currentVersion,n=void 0===t?"":t,i=(0,o.useState)(!1),a=i[0],l=i[1],c=u().data,d=c&&Array.isArray(c)&&c[0]?c[0].name:"";return(0,r.jsxs)("footer",{className:"text-center flex flex-1 justify-center pb-5 items-end",children:[(0,r.jsxs)("span",{className:"text-gray-500 text-xs",children:[(0,r.jsxs)("a",{className:"cursor-pointer",onClick:function(){return l(!0)},children:["ZeniBot v",n||"0.0.0"]}),n&&d&&"v".concat(n)!==d&&(0,r.jsxs)("a",{className:"cursor-pointer text-indigo-700 font-semibold",onClick:function(){return l(!0)},children:[" ","| Update to Version ",d," (latest)"]})]}),(0,r.jsx)(s.Z,{in:a,timeout:300,classNames:"settings_anim",unmountOnExit:!0,mountOnEnter:!0,children:(0,r.jsx)(x,{closeChangeLog:function(){return l(!1)}})})]})}},4541:function(e,t,n){var r=n(5893);t.Z=function(e){var t=e.label,n=void 0===t?"":t,o=e.value,s=void 0===o?"":o,i=e.placeholder,a=void 0===i?"":i,l=e.onChange,c=e.hasError,u=void 0!==c&&c;return(0,r.jsxs)("div",{className:"field--input w-full relative flex justify-between items-center",children:[(0,r.jsx)("label",{className:"mb-2 font-semibold inline-block text-sm text-gray-700 capitalize",children:n}),(0,r.jsx)("input",{className:"p-2 border border-gray-200 rounded focus:outline-none w-[210px]\n             focus:border-blue-200 ".concat(u?" border-red-400 focus:border-red-400":""," "),type:"text",value:s,onChange:function(e){return l(e.target.value)},autoComplete:"off",placeholder:a})]})}},5924:function(e,t,n){var r=n(9815),o=n(5893),s=n(7294),i=n(1015);t.Z=function(e){var t=e.options,n=e.selected,a=e.defaultLabel,l=void 0===a?"Select an Option":a,c=e.multiple,u=void 0===c||c,d=e.updateField,p=e.minWidth,f=void 0===p?180:p,h=e.maxHeight,m=void 0===h?96:h,g=e.fullWidth,b=void 0!==g&&g,v=e.rounded,x=void 0===v?"rounded-3xl":v,y=e.inline,_=void 0!==y&&y,j=e.flags,w=void 0!==j&&j,N=e.label,S=void 0===N?"":N,Z=e.emptyMsg,k=void 0===Z?"":Z,E=(0,s.useState)(!1),C=E[0],P=E[1],T=(0,s.useState)(""),A=T[0],z=T[1],I=(0,s.useState)([]),D=I[0],M=I[1],L=(0,s.useMemo)((function(){return t.reduce((function(e,t){return n.includes(t.value)?(0,r.Z)(e).concat([t.label]):(0,r.Z)(e)}),[])}),[n,t]);return(0,o.jsxs)("div",{className:"select font-semibold text-gray-500 relative ".concat(_?"inline-block":"flex",' justify-between items-center"'),children:[S&&(0,o.jsx)("label",{className:"mb-2 font-semibold inline-block text-sm text-gray-700 capitalize",children:S}),(0,o.jsxs)("div",{className:"selected flex border ".concat(x," p-1.5 px-4 cursor-pointer select-none ").concat(b?"w-full":"w-[210px]"," \n         min-w-[").concat(f,"px] ").concat(C?"border-indigo-200":""),onClick:function(){return P(!C)},children:[(0,o.jsx)("span",{className:"w-full inline-block truncate mr-2 capitalize",children:n.length>0?L.slice(0,2).join(", "):l}),u&&n.length>2&&(0,o.jsx)("span",{className:"px-2 py-0 ".concat(x," bg-[#eaecff] text-[0.7rem] font-bold"),children:n.length}),(0,o.jsx)("span",{className:"ml-2",children:(0,o.jsx)(i.Z,{type:C?"caret-up":"caret-down",size:9})})]}),C&&(0,o.jsxs)("div",{className:"select_list mt-1 border absolute min-w-[".concat(f,"px] top-[30px] right-0 ").concat(b?"w-full":"w-[210px]","\n            ").concat("rounded-3xl"===x?"rounded-lg":x," max-h-").concat(m," bg-white z-50 overflow-y-auto styled-scrollbar"),children:[t.length>20&&(0,o.jsx)("div",{className:"",children:(0,o.jsx)("input",{className:" border-b-[1px] p-3 w-full focus:outline-0 focus:border-blue-100",type:"text",placeholder:"Search..",onChange:function(e){z(e.currentTarget.value);var n=[],r=e.currentTarget.value.toLowerCase();t.forEach((function(e){(w?e.label.toLowerCase().startsWith(r):e.label.toLowerCase().includes(r))&&n.push(e)})),M(n)},value:A})}),(0,o.jsx)("ul",{children:(t.length>20&&D.length>0&&A?D:t).map((function(e){var t=n.includes(e.value);return(0,o.jsxs)("li",{className:"select-none cursor-pointer px-3 py-2 hover:bg-[#FCFCFF] capitalize text-ellipsis overflow-hidden\n                        ".concat(t?" bg-indigo-50 text-indigo-600 hover:bg-indigo-50":""," "),onClick:function(){return function(e){var t=[e.value];u&&Array.isArray(n)&&(t=n.includes(e.value)?n.filter((function(t){return t!==e.value})):(0,r.Z)(n).concat([e.value])),d(t),u||P(!1)}(e)},children:[u&&(0,o.jsx)("span",{className:"p-0 mr-2 leading-[0px] inline-block rounded-sm pt-0 px-[1px] pb-[3px] border\n                                 ".concat(t?" bg-indigo-600 border-indigo-600 text-white":"text-transparent"),children:(0,o.jsx)(i.Z,{type:"check",size:10})}),w&&(0,o.jsx)("span",{className:"fflag fflag-".concat(e.value," w-[15px] h-[10px] mr-1")}),e.label]},e.value)}))}),k&&0===t.length&&(0,o.jsx)("p",{className:"p-4",children:k})]})]})}},9401:function(e,t,n){var r=n(7568),o=n(7582),s=n(5893),i=n(1664),a=n.n(i),l=n(1163),c=n(7294),u=n(6501),d=n(1015);t.Z=function(e){var t=e.showSettings,n=e.showAddModal,i=(0,c.useState)(!1),p=i[0],f=i[1],h=(0,l.useRouter)(),m="/domains"===h.pathname,g=function(){var e=(0,r.Z)((function(){var e,t;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e={method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"})},[4,fetch("".concat(window.location.origin,"/api/logout"),e).then((function(e){return e.json()}))];case 1:return t=n.sent(),console.log(t),t.success?h.push("/login"):(0,u.ZP)(t.error,{icon:"\u26a0\ufe0f"}),[3,3];case 2:return n.sent(),(0,u.ZP)("Could not login, Ther Server is not responsive.",{icon:"\u26a0\ufe0f"}),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:"topbar flex w-full mx-auto justify-between \n       ".concat(m?"max-w-5xl lg:justify-between":"max-w-7xl lg:justify-end","  bg-white lg:bg-transparent"),children:[(0,s.jsxs)("h3",{className:"p-4 text-base font-bold text-blue-700 ".concat(m?"lg:pl-0":"lg:hidden"),children:[(0,s.jsx)("span",{className:" relative top-[3px] mr-1",children:(0,s.jsx)(d.Z,{type:"logo",size:24,color:"#364AFF"})})," ZeniBot",(0,s.jsx)("button",{className:"px-3 py-1 font-bold text-blue-700 lg:hidden ml-3 text-lg",onClick:function(){return n()},children:"+"})]}),!m&&"/research"!==h.asPath&&(0,s.jsx)(a(),{href:"/domains",passHref:!0,children:(0,s.jsx)("a",{className:" right-14 top-2 px-2 py-1 cursor-pointer bg-[#ecf2ff] hover:bg-indigo-100 transition-all absolute lg:top-3 lg:right-auto lg:left-8 lg:px-3 lg:py-2 rounded-full",children:(0,s.jsx)(d.Z,{type:"caret-left",size:16,title:"Go Back"})})}),(0,s.jsxs)("div",{className:"topbar__right",children:[(0,s.jsx)("button",{className:" lg:hidden p-3",onClick:function(){return f(!p)},children:(0,s.jsx)(d.Z,{type:"hamburger",size:24})}),(0,s.jsxs)("ul",{className:"text-sm font-semibold text-gray-500 absolute mt-[-10px] right-3 bg-white \n            border border-gray-200 lg:mt-2 lg:relative lg:block lg:border-0 lg:bg-transparent ".concat(p?"block":"hidden"),children:[(0,s.jsx)("li",{className:"block lg:inline-block lg:ml-5 ".concat("/domains"===h.asPath?" text-blue-700":""),children:(0,s.jsx)(a(),{href:"/domains",passHref:!0,children:(0,s.jsxs)("a",{className:"block px-3 py-2 cursor-pointer",children:[(0,s.jsx)(d.Z,{type:"domains",color:"/domains"===h.asPath?"#1d4ed8":"#888",size:14})," Domains"]})})}),(0,s.jsx)("li",{className:"block lg:inline-block lg:ml-5 ".concat("/research"===h.asPath?" text-blue-700":""),children:(0,s.jsx)(a(),{href:"/research",passHref:!0,children:(0,s.jsxs)("a",{className:"block px-3 py-2 cursor-pointer",children:[(0,s.jsx)(d.Z,{type:"research",color:"/research"===h.asPath?"#1d4ed8":"#888",size:14})," Research"]})})}),(0,s.jsx)("li",{className:"block lg:inline-block lg:ml-5",children:(0,s.jsxs)("a",{className:"block px-3 py-2 cursor-pointer",onClick:function(){return t()},children:[(0,s.jsx)(d.Z,{type:"settings-alt",color:"#888",size:14})," Settings"]})}),(0,s.jsx)("li",{className:"block lg:inline-block lg:ml-5",children:(0,s.jsxs)("a",{className:"block px-3 py-2 cursor-pointer",onClick:function(){return g()},children:[(0,s.jsx)(d.Z,{type:"logout",color:"#888",size:14})," Logout"]})})]})]})]})}},2:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(4924),o=n(6042),s=n(9396),i=n(5893),a=n(7294),l=n(6501),c=n(9870),u=n(1015),d=n(5924),p=function(e){var t=e.label,n=void 0===t?"":t,r=e.value,o=void 0===r?"":r,s=e.placeholder,l=void 0===s?"":s,c=e.onChange,d=e.hasError,p=void 0!==d&&d,f=(0,a.useState)(!1),h=f[0],m=f[1];return(0,i.jsxs)("div",{className:"settings__section__secret w-full relative flex justify-between items-center",children:[(0,i.jsx)("label",{className:"mb-2 font-semibold inline-block text-sm text-gray-700 capitalize",children:n}),(0,i.jsx)("span",{className:"absolute top-1 right-0 px-2 py-1 cursor-pointer text-gray-400 select-none",onClick:function(){return m(!h)},children:(0,i.jsx)(u.Z,{type:h?"eye-closed":"eye",size:18})}),(0,i.jsx)("input",{className:"w-[210px] p-2 border border-gray-200 rounded focus:outline-none \n             focus:border-blue-200 ".concat(p?" border-red-400 focus:border-red-400":""," "),type:h?"text":"password",value:o,onChange:function(e){return c(e.target.value)},autoComplete:"off",placeholder:l})]})},f=n(4541),h=function(e){var t=e.settings,n=e.settingsError,r=e.updateSettings;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"settings__content styled-scrollbar p-6 text-sm",children:[(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(d.Z,{label:"Notification Frequency",multiple:!1,selected:[t.notification_interval],options:[{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"},{label:"Never",value:"never"}],defaultLabel:"Notification Settings",updateField:function(e){return e[0]&&r("notification_interval",e[0])},rounded:"rounded",maxHeight:48,minWidth:220})}),"never"!==t.notification_interval&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(f.Z,{label:"Notification Emails",hasError:"no_email"===(null===n||void 0===n?void 0:n.type),value:null===t||void 0===t?void 0:t.notification_email,placeholder:"test@gmail.com, test2@test.com",onChange:function(e){return r("notification_email",e)}})}),(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(f.Z,{label:"SMTP Server",hasError:"no_smtp_server"===(null===n||void 0===n?void 0:n.type),value:(null===t||void 0===t?void 0:t.smtp_server)||"",placeholder:"test@gmail.com, test2@test.com",onChange:function(e){return r("smtp_server",e)}})}),(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(f.Z,{label:"SMTP Port",hasError:"no_smtp_port"===(null===n||void 0===n?void 0:n.type),value:(null===t||void 0===t?void 0:t.smtp_port)||"",placeholder:"2234",onChange:function(e){return r("smtp_port",e)}})}),(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(f.Z,{label:"SMTP Username",hasError:"no_smtp_port"===(null===n||void 0===n?void 0:n.type),value:(null===t||void 0===t?void 0:t.smtp_username)||"",onChange:function(e){return r("smtp_username",e)}})}),(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(p,{label:"SMTP Password",value:(null===t||void 0===t?void 0:t.smtp_password)||"",onChange:function(e){return r("smtp_password",e)}})}),(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(f.Z,{label:"From Email Address",hasError:"no_smtp_from"===(null===n||void 0===n?void 0:n.type),value:(null===t||void 0===t?void 0:t.notification_email_from)||"",placeholder:"no-reply@mydomain.com",onChange:function(e){return r("notification_email_from",e)}})})]})]}),(null===n||void 0===n?void 0:n.msg)&&(0,i.jsx)("div",{className:"absolute w-full bottom-16 text-center p-3 bg-red-100 text-red-600 text-sm font-semibold",children:n.msg})]})},m=n(9815),g=function(e){var t=e.label,n=void 0===t?"":t,r=e.value,o=void 0!==r&&r,s=e.onChange,a=e.classNames,l=void 0===a?"":a;return(0,i.jsx)("div",{className:"field--toggle w-full relative ".concat(l),children:(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer w-full justify-between",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300 w-auto",children:n}),(0,i.jsx)("input",{type:"checkbox",value:o.toString(),checked:!!o,className:"sr-only peer",onChange:function(){return s(!o)}}),(0,i.jsx)("div",{className:"relative rounded-3xl w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})},b=function(e){var t,n,r=e.settings,o=e.settingsError,s=e.updateSettings,a=(0,c.dM)((function(){})),l=a.mutate,f=a.isLoading,h=r.available_scapers?r.available_scapers:[],b=[{label:"None",value:"none"}].concat((0,m.Z)(h)),v="mb-2 font-semibold inline-block text-sm text-gray-700 capitalize";return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"settings__content styled-scrollbar p-6 text-sm",children:[(0,i.jsx)("div",{className:"settings__section__select mb-5",children:(0,i.jsx)(d.Z,{label:"Scraping Method",options:b,selected:[r.scraper_type||"none"],defaultLabel:"Select Scraper",updateField:function(e){return s("scraper_type",e[0])},multiple:!1,rounded:"rounded",minWidth:220})}),"none"!==r.scraper_type&&"proxy"!==r.scraper_type&&(0,i.jsx)("div",{className:"settings__section__secret mb-5",children:(0,i.jsx)(p,{label:"Scraper API Key or Token",placeholder:"API Key/Token",value:(null===r||void 0===r?void 0:r.scaping_api)||"",hasError:"no_api_key"===(null===o||void 0===o?void 0:o.type),onChange:function(e){return s("scaping_api",e)}})}),"proxy"===r.scraper_type&&(0,i.jsxs)("div",{className:"settings__section__input mb-5",children:[(0,i.jsx)("label",{className:v,children:"Proxy List"}),(0,i.jsx)("textarea",{className:"w-full p-2 border border-gray-200 rounded mb-3 text-xs \n                  focus:outline-none min-h-[160px] focus:border-blue-200 \n                  ".concat("no_email"===(null===o||void 0===o?void 0:o.type)?" border-red-400 focus:border-red-400":""," "),value:null===r||void 0===r?void 0:r.proxy,placeholder:"http://122.123.22.45:5049\nhttps://user:password@122.123.22.45:5049",onChange:function(e){return s("proxy",e.target.value)}})]}),"none"!==r.scraper_type&&(0,i.jsxs)("div",{className:"settings__section__input mb-5",children:[(0,i.jsx)(d.Z,{label:"Scraping Frequency",multiple:!1,selected:[(null===r||void 0===r?void 0:r.scrape_interval)||"daily"],options:[{label:"Daily",value:"daily"},{label:"Every Other Day",value:"other_day"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"},{label:"Never",value:"never"}],defaultLabel:"Notification Settings",updateField:function(e){return e[0]&&s("scrape_interval",e[0])},rounded:"rounded",maxHeight:48,minWidth:220}),(0,i.jsx)("small",{className:" text-gray-500 pt-2 block",children:"This option requires Server/Docker Instance Restart to take Effect."})]}),(0,i.jsxs)("div",{className:"settings__section__input mb-5",children:[(0,i.jsx)(d.Z,{label:"keyword Scrape Delay",multiple:!1,selected:[(null===r||void 0===r?void 0:r.scrape_delay)||"0"],options:[{label:"No Delay",value:"0"},{label:"5 Seconds",value:"5000"},{label:"10 Seconds",value:"10000"},{label:"30 Seconds",value:"30000"},{label:"1 Minutes",value:"60000"},{label:"2 Minutes",value:"120000"},{label:"5 Minutes",value:"300000"},{label:"10 Minutes",value:"600000"},{label:"15 Minutes",value:"900000"},{label:"30 Minutes",value:"1800000"}],defaultLabel:"Delay Settings",updateField:function(e){return e[0]&&s("scrape_delay",e[0])},rounded:"rounded",maxHeight:48,minWidth:220}),(0,i.jsx)("small",{className:" text-gray-500 pt-2 block",children:"This option requires Server/Docker Instance Restart to take Effect."})]}),(0,i.jsx)("div",{className:"settings__section__input mb-5",children:(0,i.jsx)(g,{label:"Auto Retry Failed Keyword Scrape",value:!!(null===r||void 0===r?void 0:r.scrape_retry),onChange:function(e){return s("scrape_retry",e)}})}),(null===r||void 0===r?void 0:r.scrape_retry)&&((null===(t=r.failed_queue)||void 0===t?void 0:t.length)||0)>0&&(0,i.jsxs)("div",{className:"settings__section__input mb-5",children:[(0,i.jsx)("label",{className:v,children:"Clear Failed Retry Queue"}),(0,i.jsxs)("button",{onClick:function(){return l()},className:" py-3 px-5 w-full rounded cursor-pointer bg-gray-100 text-gray-800 font-semibold text-sm hover:bg-gray-200",children:[f&&(0,i.jsx)(u.Z,{type:"loading",size:14})," Clear Failed Queue (",(null===(n=r.failed_queue)||void 0===n?void 0:n.length)||0," Keywords)"]})]})]})})},v=n(3251),x=function(e){var t=e.settings,n=(e.settingsError,e.updateSettings);return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsx)(f.Z,{label:"Search Console Client Email",onChange:function(e){return n("search_console_client_email",e)},value:t.search_console_client_email,placeholder:"myapp@appspot.gserviceaccount.com"})}),(0,i.jsxs)("div",{className:"settings__section__input mb-4 flex flex-col justify-between items-center w-full",children:[(0,i.jsx)("label",{className:"mb-2 font-semibold block text-sm text-gray-700 capitalize w-full",children:"Search Console Private Key"}),(0,i.jsx)("textarea",{className:"w-full p-2 border border-gray-200 rounded mb-3 text-xs \n               focus:outline-none h-[100px] focus:border-blue-200",value:t.search_console_private_key,placeholder:"-----BEGIN PRIVATE KEY-----/ssssaswdkihad....",onChange:function(e){return n("search_console_private_key",e.target.value)}})]})]})})},y=n(9818),_=function(e){var t=e.settings,n=(e.settingsError,e.updateSettings),r=e.performUpdate,o=e.closeSettings,s=t||{},a=s.adwords_client_id,l=void 0===a?"":a,c=s.adwords_client_secret,d=void 0===c?"":c,f=s.adwords_developer_token,h=void 0===f?"":f,m=s.adwords_account_id,g=void 0===m?"":m,b=s.adwords_refresh_token,v=void 0===b?"":b,x=(0,y.kd)(),_=x.mutate,j=x.isLoading,w=(0,y.Ss)(),N=w.mutate,S=w.isLoading,Z=l&&d&&v,k=l&&d&&v&&h&&g;return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:" border-t border-gray-100 pt-4 pb-0",children:[(0,i.jsx)("h4",{className:" mb-3 font-semibold text-blue-700",children:"Step 1: Connect Google Cloud Project"}),(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsx)(p,{label:"Client ID",onChange:function(e){return n("adwords_client_id",e)},value:l,placeholder:"3943006-231f65cjm.apps.googleusercontent.com"})}),(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsx)(p,{label:"Client Secret",onChange:function(e){return n("adwords_client_secret",e)},value:d,placeholder:"GTXSPX-45asaf-u1s252sd6qdE9yc8T"})}),(0,i.jsxs)("button",{className:"py-2 px-5 w-full text-sm font-semibold rounded  bg-indigo-50 text-blue-700 border border-indigo-100\n            ".concat(l&&d?"cursor-pointer":" cursor-not-allowed opacity-40","\n             hover:bg-blue-700 hover:text-white transition"),title:"Insert All the data in the above fields to Authenticate",onClick:function(){if(l&&d){var e=document.createElement("a");e.href="https://accounts.google.com/o/oauth2/v2/auth/oauthchooseaccount?access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fadwords&response_type=code&client_id=".concat(l,"&redirect_uri=").concat("".concat(encodeURIComponent(window.location.origin),"/api/adwords"),"&service=lso&o2v=2&theme=glif&flowName=GeneralOAuthFlow"),e.target="_blank",e.click(),r&&(r(),o())}},children:[(0,i.jsx)(u.Z,{type:"google",size:14})," ",v?"Re-Authenticate":"Authenticate"," Integration"]})]}),(0,i.jsxs)("div",{className:"mt-4 border-t mb-4 border-b border-gray-100 pt-4 pb-0 relative",children:[!Z&&(0,i.jsx)("div",{className:" absolute w-full h-full z-50"}),(0,i.jsx)("h4",{className:" mb-3 font-semibold text-blue-700",children:"Step 2: Connect Google Ads"}),(0,i.jsxs)("div",{className:Z?"":"opacity-40",children:[(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsx)(p,{label:"Developer Token",onChange:function(e){return n("adwords_developer_token",e)},value:h,placeholder:"4xr6jY94kAxtXk4rfcgc4w"})}),(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsx)(p,{label:"Test Account ID",onChange:function(e){return n("adwords_account_id",e)},value:g,placeholder:"590-948-9101"})}),(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsxs)("button",{className:"py-2 px-5 w-full text-sm font-semibold rounded bg-indigo-50 text-blue-700 border border-indigo-100\n                  ".concat(k?"cursor-pointer":"cursor-not-allowed opacity-40","\n                  hover:bg-blue-700 hover:text-white transition"),title:k?"":"Insert All the data in the above fields to Test the Integration",onClick:function(){k&&_({developer_token:h,account_id:g})},children:[j&&(0,i.jsx)(u.Z,{type:"loading"}),(0,i.jsx)(u.Z,{type:"adwords",size:14})," Test Google Ads Integration"]})})]})]}),(0,i.jsxs)("div",{className:"mt-4 mb-4 border-b border-gray-100 pt-4 pb-0 relative",children:[!k&&(0,i.jsx)("div",{className:" absolute w-full h-full z-50"}),(0,i.jsx)("h4",{className:" mb-3 font-semibold text-blue-700",children:"Update Keyword Volume Data"}),(0,i.jsxs)("div",{className:k?"":"opacity-40",children:[(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsx)("p",{children:"Update Volume data for all your Tracked Keywords."})}),(0,i.jsx)("div",{className:"settings__section__input mb-4 flex justify-between items-center w-full",children:(0,i.jsxs)("button",{className:"py-2 px-5 w-full text-sm font-semibold rounded bg-indigo-50 text-blue-700 border border-indigo-100\n                  ".concat(k?"cursor-pointer":"cursor-not-allowed opacity-40","\n                  hover:bg-blue-700 hover:text-white transition"),onClick:function(){k&&N({domain:"all"})},children:[(0,i.jsx)(u.Z,{type:S?"loading":"reload",size:S?16:12})," Update Keywords Volume Data"]})})]})]}),(0,i.jsxs)("p",{className:"mb-4 text-xs",children:["Relevant Documentation: ",(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.serpbear.com/miscellaneous/integrate-google-ads",className:" underline text-blue-600",children:"Integrate Google Ads"}),"."]})]})})},j=function(e){var t=e.settings,n=e.settingsError,r=e.updateSettings,o=e.performUpdate,s=e.closeSettings,l=(0,a.useState)("searchconsole"),c=l[0],d=l[1],p="inline-block px-4 py-1 rounded-full mr-3 cursor-pointer text-sm";return(0,i.jsxs)("div",{className:"settings__content styled-scrollbar p-6 text-sm",children:[(0,i.jsx)("div",{className:"mb-4 ",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"".concat(p," ").concat("searchconsole"===c?" bg-blue-50 text-blue-600":""),onClick:function(){return d("searchconsole")},children:[(0,i.jsx)(u.Z,{type:"google",size:14})," Search Console"]}),(0,i.jsxs)("li",{className:"".concat(p," ").concat("adwords"===c?" bg-blue-50 text-blue-600":""),onClick:function(){return d("adwords")},children:[(0,i.jsx)(u.Z,{type:"adwords",size:14})," Google Ads"]})]})}),(0,i.jsxs)("div",{children:["searchconsole"===c&&t&&(0,i.jsx)(x,{settings:t,updateSettings:r,settingsError:n}),"adwords"===c&&t&&(0,i.jsx)(_,{settings:t,updateSettings:r,settingsError:n,performUpdate:o,closeSettings:s})]})]})},w={scraper_type:"none",scrape_delay:"none",scrape_retry:!1,notification_interval:"daily",notification_email:"",smtp_server:"",smtp_port:"",smtp_username:"",smtp_password:"",notification_email_from:"",search_console:!0,search_console_client_email:"",search_console_private_key:""},N=function(e){var t=e.closeSettings,n=(0,a.useState)("scraper"),d=n[0],p=n[1],f=(0,a.useState)(w),m=f[0],g=f[1],x=(0,a.useState)(null),y=x[0],_=x[1],N=(0,c.Qp)((function(){return console.log("")})),S=N.mutate,Z=N.isLoading,k=(0,c.pX)(),E=k.data,C=k.isLoading;(0,v.Z)("Escape",t),(0,a.useEffect)((function(){E&&E.settings&&g(E.settings)}),[E]);var P=function(e,t){g((0,s.Z)((0,o.Z)({},m),(0,r.Z)({},e,t)))},T=function(){var e=null,t=m.notification_interval,n=m.notification_email,r=m.notification_email_from,o=m.scraper_type,s=m.smtp_port,i=m.smtp_server,a=m.scaping_api;if("never"!==t&&(m.notification_email||(e={type:"no_email",msg:"Insert a Valid Email address"}),n&&(!s||!i||!r))){var l="no_smtp_from";s||(l="no_smtp_port"),i||(l="no_smtp_server"),e={type:l,msg:"Insert SMTP Server details that will be used to send the emails."}}"proxy"===o||"none"===o||a||(e={type:"no_api_key",msg:"Insert a Valid API Key or Token for the Scraper Service."}),e?(_(e),setTimeout((function(){_(null)}),3e3)):(S(m),"none"===E.settings&&"none"!==o&&window.location.reload())},A="inline-block px-3 py-2 rounded-md  cursor-pointer text-xs lg:text-sm lg:mr-3 lg:px-4 select-none z-10\n   text-gray-600 border border-b-0 relative top-[1px] rounded-b-none",z="bg-white text-blue-600 border-slate-200";return(0,i.jsxs)("div",{className:"settings fixed w-full h-screen top-0 left-0 z-50",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.target===e.currentTarget&&t()},children:[(0,i.jsxs)("div",{className:"absolute w-full max-w-md bg-white customShadow top-0 right-0 h-screen","data-loading":C,children:[C&&(0,i.jsx)("div",{className:"absolute flex content-center items-center h-full",children:(0,i.jsx)(u.Z,{type:"loading",size:24})}),(0,i.jsxs)("div",{className:"settings__header px-5 py-4 text-slate-500",children:[(0,i.jsx)("h3",{className:" text-black text-lg font-bold",children:"Settings"}),(0,i.jsx)("button",{className:" absolute top-2 right-2 p-2 px- text-gray-400 hover:text-gray-700 transition-all hover:rotate-90",onClick:function(){return t()},children:(0,i.jsx)(u.Z,{type:"close",size:24})})]}),(0,i.jsx)("div",{className:"border border-slate-200 px-3 py-4 pb-0 border-l-0 border-r-0 bg-[#f8f9ff]",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"".concat(A," ").concat("scraper"===d?z:"border-transparent "),onClick:function(){return p("scraper")},children:[(0,i.jsx)(u.Z,{type:"scraper"})," Scraper"]}),(0,i.jsxs)("li",{className:"".concat(A," ").concat("notification"===d?z:"border-transparent"),onClick:function(){return p("notification")},children:[(0,i.jsx)(u.Z,{type:"email"})," Notification"]}),(0,i.jsxs)("li",{className:"".concat(A," ").concat("integrations"===d?z:"border-transparent"),onClick:function(){return p("integrations")},children:[(0,i.jsx)(u.Z,{type:"integration",size:14})," Integrations"]})]})}),"scraper"===d&&m&&(0,i.jsx)(b,{settings:m,updateSettings:P,settingsError:y}),"notification"===d&&m&&(0,i.jsx)(h,{settings:m,updateSettings:P,settingsError:y}),"integrations"===d&&m&&(0,i.jsx)(j,{settings:m,updateSettings:P,settingsError:y,performUpdate:T,closeSettings:t}),(0,i.jsx)("div",{className:" border-t-[1px] border-gray-200 p-2 px-3",children:(0,i.jsxs)("button",{onClick:function(){return T()},className:" py-3 px-5 w-full rounded cursor-pointer bg-blue-700 text-white font-semibold text-sm",children:[Z&&(0,i.jsx)(u.Z,{type:"loading",size:14})," Update Settings"]})})]}),(0,i.jsx)(l.x7,{position:"bottom-center",containerClassName:"react_toaster"})]})}},3251:function(e,t,n){var r=n(7294);t.Z=function(e,t){(0,r.useEffect)((function(){var n=function(n){n.key===e&&t()};return window.addEventListener("keydown",n,!1),function(){window.removeEventListener("keydown",n,!1)}}),[e,t])}},9818:function(e,t,n){n.d(t,{Ss:function(){return h},WU:function(){return d},ay:function(){return f},kd:function(){return l},np:function(){return p}});var r=n(7568),o=n(6042),s=n(7582),i=n(6501),a=n(8767);function l(e){return(0,a.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return t=new Headers({"Content-Type":"application/json",Accept:"application/json"}),n={method:"POST",headers:t,body:JSON.stringify((0,o.Z)({},e))},[4,fetch("".concat(window.location.origin,"/api/adwords"),n)];case 1:if((r=s.sent()).status>=400&&r.status<600)throw new Error("Bad response from server");return[2,r.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){var t=(0,r.Z)((function(t){return(0,s.__generator)(this,(function(n){return console.log("Ideas Added:",t),(0,i.ZP)("Google Ads has been integrated successfully!",{icon:"\u2714\ufe0f"}),e&&e(!1),[2]}))}));return function(e){return t.apply(this,arguments)}}(),onError:function(e){console.log("Error Loading Keyword Ideas!!!",e),(0,i.ZP)("Failed to connect to Google Ads. Please make sure you have provided the correct API info.",{icon:"\u26a0\ufe0f"})}})}function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((function(e,t){var n;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(window.location.origin,"/api/ideas?domain=").concat(t),{method:"GET"})];case 1:if((n=r.sent()).status>=400&&n.status<600)throw 401===n.status&&(console.log("Unauthorized!!"),e.push("/login")),new Error("Bad response from server");return[2,n.json()]}}))}))).apply(this,arguments)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/research"===e.pathname,r=n?"research":e.query.slug,o=!(!t||!r);return(0,a.useQuery)("keywordIdeas-".concat(r),(function(){return r&&c(e,r)}),{enabled:o,retry:!1})}function p(e,t){var n=(0,a.useQueryClient)(),l="/research"===e.pathname?"research":e.query.slug;return(0,a.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return t=new Headers({"Content-Type":"application/json",Accept:"application/json"}),n={method:"POST",headers:t,body:JSON.stringify((0,o.Z)({},e))},[4,fetch("".concat(window.location.origin,"/api/ideas"),n)];case 1:if((r=s.sent()).status>=400&&r.status<600)throw new Error("Bad response from server");return[2,r.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){var e=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(r){return console.log("Ideas Added:",e),(0,i.ZP)("Keyword Ideas Loaded Successfully!",{icon:"\u2714\ufe0f"}),t&&t(!1),n.invalidateQueries(["keywordIdeas-".concat(l)]),[2]}))}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){console.log("Error Loading Keyword Ideas!!!",e),(0,i.ZP)("Error Loading Keyword Ideas",{icon:"\u26a0\ufe0f"})}})}function f(e,t){var n=(0,a.useQueryClient)(),l="/research"===e.pathname?"research":e.query.slug;return(0,a.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return t=new Headers({"Content-Type":"application/json",Accept:"application/json"}),n={method:"PUT",headers:t,body:JSON.stringify((0,o.Z)({},e))},[4,fetch("".concat(window.location.origin,"/api/ideas"),n)];case 1:if((r=s.sent()).status>=400&&r.status<600)throw new Error("Bad response from server");return[2,r.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){var e=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(r){return console.log("Ideas Added:",e),t&&t(!1),n.invalidateQueries(["keywordIdeas-".concat(l)]),[2]}))}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){console.log("Error Favorating Keywords",e),(0,i.ZP)("Error Favorating Keywords",{icon:"\u26a0\ufe0f"})}})}function h(e){return(0,a.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r,i;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return t=new Headers({"Content-Type":"application/json",Accept:"application/json"}),n={method:"POST",headers:t,body:JSON.stringify((0,o.Z)({},e))},[4,fetch("".concat(window.location.origin,"/api/volume"),n)];case 1:return(r=s.sent()).status>=400&&r.status<600?[4,r.json()]:[3,3];case 2:throw i=s.sent(),new Error((null===i||void 0===i?void 0:i.error)?i.error:"Bad response from server");case 3:return[2,r.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){var t=(0,r.Z)((function(t){return(0,s.__generator)(this,(function(t){return(0,i.ZP)("Keyword Volume Data Loaded Successfully! Reloading Page...",{icon:"\u2714\ufe0f"}),e&&e(!1),setTimeout((function(){window.location.reload()}),3e3),[2]}))}));return function(e){return t.apply(this,arguments)}}(),onError:function(e){console.log("Error Loading Keyword Volume Data!!!",e),(0,i.ZP)("Error Loading Keyword Volume Data",{icon:"\u26a0\ufe0f"})}})}},6733:function(e,t,n){n.d(t,{Do:function(){return b},Js:function(){return y},NP:function(){return d},XD:function(){return h},cT:function(){return v},fW:function(){return g},gk:function(){return x}});var r=n(7568),o=n(4924),s=n(6042),i=n(9396),a=n(7582),l=n(1163),c=n(6501),u=n(8767);function d(e,t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((function(e,t){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(window.location.origin,"/api/domains").concat(t?"?withstats=true":""),{method:"GET"})];case 1:if((n=r.sent()).status>=400&&n.status<600)throw 401===n.status&&(console.log("Unauthorized!!"),e.push("/login")),new Error("Bad response from server");return[2,n.json()]}}))}))).apply(this,arguments)}function f(){return(f=(0,r.Z)((function(e,t){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:if(!t)throw new Error("No Domain Name Provided!");return[4,fetch("".concat(window.location.origin,"/api/domain?domain=").concat(t),{method:"GET"})];case 1:if((n=r.sent()).status>=400&&n.status<600)throw 401===n.status&&(console.log("Unauthorized!!"),e.push("/login")),new Error("Bad response from server");return[2,n.json()]}}))}))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return m=(0,r.Z)((function(e,t){var n,r,l,c,u,d,p,f,h,m=arguments;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(n=m.length>2&&void 0!==m[2]&&m[2],r=localStorage.getItem("domainThumbs"),(l=r?JSON.parse(r):{})[e]&&!n)return[3,10];a.label=1;case 1:return a.trys.push([1,8,,9]),c="https://image.thum.io/get/auth/".concat(t,"/maxAge/96/width/200/https://").concat(e),[4,fetch(c)];case 2:return 200!==(u=a.sent()).status?[3,4]:[4,u.blob()];case 3:return p=a.sent(),[3,5];case 4:p=!1,a.label=5;case 5:return(d=p)?(f=new FileReader,[4,new Promise((function(e,t){f.onload=e,f.onerror=t,f.readAsDataURL(d)}))]):[3,7];case 6:return a.sent(),h=f.result&&"string"===typeof f.result?f.result:"",localStorage.setItem("domainThumbs",JSON.stringify((0,i.Z)((0,s.Z)({},l),(0,o.Z)({},e,h)))),[2,h];case 7:return[2,!1];case 8:return a.sent(),[2,!1];case 9:return[3,11];case 10:if(l[e])return[2,l[e]];a.label=11;case 11:return[2,!1]}}))})),m.apply(this,arguments)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,u.useQuery)("domains",(function(){return d(e,t)}))}function b(e,t,n){return(0,u.useQuery)("domain",(function(){return function(e,t){return f.apply(this,arguments)}(e,t)}),{onSuccess:function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(t){return console.log("Domain Loaded!!!",e.domain),n(e.domain),[2]}))}));return function(t){return e.apply(this,arguments)}}()})}function v(e){var t=(0,l.useRouter)(),n=(0,u.useQueryClient)();return(0,u.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return t=new Headers({"Content-Type":"application/json",Accept:"application/json"}),n={method:"POST",headers:t,body:JSON.stringify({domains:e})},[4,fetch("".concat(window.location.origin,"/api/domains"),n)];case 1:if((r=o.sent()).status>=400&&r.status<600)throw new Error("Bad response from server");return[2,r.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){var o=(0,r.Z)((function(r){var o,s;return(0,a.__generator)(this,(function(i){return console.log("Domain Added!!!",r),o=r.domains,s=1===o.length,(0,c.ZP)("".concat(s?o[0].domain:"".concat(o.length," domains")," Added Successfully!"),{icon:"\u2714\ufe0f"}),e(!1),s&&t.push("/domain/".concat(o[0].slug)),n.invalidateQueries(["domains"]),[2]}))}));return function(e){return o.apply(this,arguments)}}(),onError:function(){console.log("Error Adding New Domain!!!"),(0,c.ZP)("Error Adding New Domain")}})}function x(e){var t=(0,u.useQueryClient)();return(0,u.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r,o,s,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.domainSettings,n=e.domain,r=new Headers({"Content-Type":"application/json",Accept:"application/json"}),o={method:"PUT",headers:r,body:JSON.stringify(t)},[4,fetch("".concat(window.location.origin,"/api/domains?domain=").concat(n.domain),o)];case 1:return[4,(s=a.sent()).json()];case 2:if(i=a.sent(),s.status>=400&&s.status<600)throw new Error((null===i||void 0===i?void 0:i.error)||"Bad response from server");return[2,i]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:(0,r.Z)((function(){return(0,a.__generator)(this,(function(n){return console.log("Settings Updated!!!"),(0,c.ZP)("Settings Updated!",{icon:"\u2714\ufe0f"}),e(),t.invalidateQueries(["domains"]),[2]}))})),onError:function(e){console.log("Error Updating Domain Settings!!!",e),(0,c.ZP)("Error Updating Domain Settings",{icon:"\u26a0\ufe0f"})}})}function y(e){var t=(0,u.useQueryClient)();return(0,u.useMutation)(function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(window.location.origin,"/api/domains?domain=").concat(e.domain),{method:"DELETE"})];case 1:if((t=n.sent()).status>=400&&t.status<600)throw new Error("Bad response from server");return[2,t.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:(0,r.Z)((function(){return(0,a.__generator)(this,(function(n){return(0,c.ZP)("Domain Removed Successfully!",{icon:"\u2714\ufe0f"}),e(),t.invalidateQueries(["domains"]),[2]}))})),onError:function(){console.log("Error Removing Domain!!!"),(0,c.ZP)("Error Removing Domain",{icon:"\u26a0\ufe0f"})}})}},9870:function(e,t,n){n.d(t,{Qp:function(){return c},dM:function(){return u},pX:function(){return l},uc:function(){return p}});var r=n(7568),o=n(7582),s=n(6501),i=n(8767);function a(){return(a=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(window.location.origin,"/api/settings"),{method:"GET"})];case 1:return[2,e.sent().json()]}}))}))).apply(this,arguments)}function l(){return(0,i.useQuery)("settings",(function(){return function(){return a.apply(this,arguments)}()}))}var c=function(e){var t=(0,i.useQueryClient)();return(0,i.useMutation)(function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=new Headers({"Content-Type":"application/json",Accept:"application/json"}),n={method:"PUT",headers:t,body:JSON.stringify({settings:e})},[4,fetch("".concat(window.location.origin,"/api/settings"),n)];case 1:if((r=o.sent()).status>=400&&r.status<600)throw new Error("Bad response from server");return[2,r.json()]}}))}));return function(t){return e.apply(this,arguments)}}(),{onSuccess:(0,r.Z)((function(){return(0,o.__generator)(this,(function(n){return e&&e(),(0,s.ZP)("Settings Updated!",{icon:"\u2714\ufe0f"}),t.invalidateQueries(["settings"]),[2]}))})),onError:function(){console.log("Error Updating App Settings!!!"),(0,s.ZP)("Error Updating App Settings.",{icon:"\u26a0\ufe0f"})}})};function u(e){var t=(0,i.useQueryClient)();return(0,i.useMutation)((0,r.Z)((function(){var e,t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return e=new Headers({"Content-Type":"application/json",Accept:"application/json"}),t={method:"PUT",headers:e},[4,fetch("".concat(window.location.origin,"/api/clearfailed"),t)];case 1:if((n=r.sent()).status>=400&&n.status<600)throw new Error("Bad response from server");return[2,n.json()]}}))})),{onSuccess:(0,r.Z)((function(){return(0,o.__generator)(this,(function(n){return e(),(0,s.ZP)("Failed Queue Cleared",{icon:"\u2714\ufe0f"}),t.invalidateQueries(["settings"]),[2]}))})),onError:function(){console.log("Error Clearing Failed Queue!!!"),(0,s.ZP)("Error Clearing Failed Queue.",{icon:"\u26a0\ufe0f"})}})}function d(){return(d=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(window.location.origin,"/api/dbmigrate"),{method:"GET"})];case 1:return[2,e.sent().json()]}}))}))).apply(this,arguments)}function p(){return(0,i.useQuery)("dbmigrate",(function(){return function(){return d.apply(this,arguments)}()}))}}}]);